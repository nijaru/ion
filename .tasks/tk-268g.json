{
  "project": "tk",
  "ref": "268g",
  "title": "[P3-RELEASE] Anthropic caching - 50-100x cost savings",
  "description": null,
  "status": "done",
  "priority": 2,
  "labels": [],
  "assignees": [],
  "parent": null,
  "blocked_by": [],
  "estimate": null,
  "due_date": null,
  "logs": [
    {
      "ts": "2026-01-26T17:38:07.161Z",
      "msg": "Blocked: llm-connector crate doesn't expose cache_control field"
    },
    {
      "ts": "2026-01-26T18:04:09.529Z",
      "msg": "Real impact: Cache ENTIRE conversation prefix, not just system prompt. On long sessions (100k+ context), pay full price only for new delta each turn. 50-100x savings, not 10x."
    },
    {
      "ts": "2026-01-26T18:04:11.048Z",
      "msg": "Solution: Bypass llm-connector, implement direct Anthropic client with reqwest. Full control over cache_control on all content blocks."
    },
    {
      "ts": "2026-01-27T19:12:59.150Z",
      "msg": "Duplicate of tk-fuig, consolidating here. Need to send cache_control: ephemeral in Anthropic API requests."
    },
    {
      "ts": "2026-01-30T06:28:24.088Z",
      "msg": "Completed: Anthropic client now has cache_control support"
    }
  ],
  "created_at": "2026-01-26T01:50:17.422Z",
  "updated_at": "2026-01-30T06:28:24.088Z",
  "completed_at": "2026-01-30T06:28:24.063Z",
  "external": {}
}