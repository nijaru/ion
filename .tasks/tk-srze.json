{
  "project": "tk",
  "ref": "srze",
  "title": "[BUG] ChatGPT OAuth consent targets API org",
  "description": "User reports ChatGPT login shows 'Codex wants access to your API organization' and project selection (API credits). Need ChatGPT subscription auth flow instead of API org consent. Related to tk-uqt6.",
  "status": "done",
  "priority": 1,
  "labels": [],
  "assignees": [],
  "parent": null,
  "blocked_by": [],
  "estimate": null,
  "due_date": null,
  "logs": [
    {
      "ts": "2026-02-04T05:27:55.723Z",
      "msg": "User reports ChatGPT OAuth consent screen is API org/project selection: 'Codex wants access to your API organization' and notes token can generate API keys/consume API credits."
    },
    {
      "ts": "2026-02-04T05:32:33.057Z",
      "msg": "Found local Codex CLI login source: authorize URL includes id_token_add_organizations=true, codex_cli_simplified_flow=true, originator=codex_cli_rs (plus allowed_workspace_id optional). Likely missing params in ion."
    },
    {
      "ts": "2026-02-04T05:37:53.090Z",
      "msg": "Implemented Codex-style OAuth params (id_token_add_organizations, codex_cli_simplified_flow, originator) and ChatGPT-Account-ID extraction + header injection. Added chatgpt_account_id to OAuthTokens and preserved across refresh. Added test for JWT parsing."
    },
    {
      "ts": "2026-02-04T05:38:51.571Z",
      "msg": "Push blocked by GitHub secret scanning: Google OAuth client secret detected in ai/research/gemini-oauth-subscription-auth.md (commit 8615be8e...). Need to redact or unblock via GitHub link before pushing."
    }
  ],
  "created_at": "2026-02-04T05:27:50.045Z",
  "updated_at": "2026-02-04T22:16:16.330Z",
  "completed_at": "2026-02-04T22:16:16.330Z",
  "external": {}
}