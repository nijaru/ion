{
  "project": "tk",
  "ref": "1lso",
  "title": "[BUG] Kimi k2.5 errors on OpenRouter - root cause unclear",
  "description": null,
  "status": "done",
  "priority": 2,
  "labels": [],
  "assignees": [],
  "parent": null,
  "blocked_by": [
    "tk-mmzs"
  ],
  "estimate": null,
  "due_date": null,
  "logs": [
    {
      "ts": "2026-01-27T21:50:13.619Z",
      "msg": "Documented as Q6 in ai/design/tui-v2.md. Kimi returns response in 'reasoning' field, not 'content'. llm-connector doesn't handle this."
    },
    {
      "ts": "2026-01-29T20:27:40.581Z",
      "msg": "DISTINCT ISSUE: This is about Kimi-specific API errors (reasoning field not in content, etc.) - separate from OpenRouter provider routing field issue. Native Kimi provider bypasses this but doesn't fix OpenRouter integration."
    },
    {
      "ts": "2026-01-29T20:32:36.625Z",
      "msg": "Consolidated from tk-axae. Both were about Kimi errors on OpenRouter. Root cause: unclear - could be OpenRouter-side, tool calling bugs, or something else. Native Kimi provider at api.moonshot.ai works (OpenAI-compatible format, confirmed from GitHub docs). OpenRouter routing (provider field) is a SEPARATE issue tracked in llm-connector limitations."
    },
    {
      "ts": "2026-01-29T23:28:02.077Z",
      "msg": "Error analysis: 'missing field id at line 53 column 101' - llm-connector's OpenAI parser fails on OpenRouter's Kimi response format. Workaround: use native Kimi provider. Fix requires llm-connector changes or fork."
    },
    {
      "ts": "2026-01-30T06:28:24.988Z",
      "msg": "Completed: OpenAI-compat client now parses reasoning_content field"
    }
  ],
  "created_at": "2026-01-27T19:12:44.381Z",
  "updated_at": "2026-01-30T06:28:24.988Z",
  "completed_at": "2026-01-30T06:28:24.963Z",
  "external": {}
}