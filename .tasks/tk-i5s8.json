{
  "project": "tk",
  "ref": "i5s8",
  "title": "[REFACTOR] TUI v2: Replace Viewport::Inline with custom bottom area management",
  "description": null,
  "status": "done",
  "priority": 2,
  "labels": [],
  "assignees": [],
  "parent": null,
  "blocked_by": [],
  "estimate": null,
  "due_date": null,
  "logs": [
    {
      "ts": "2026-01-27T06:40:27.287Z",
      "msg": "Architecture: Native scrollback (println) + managed bottom area (crossterm). No Viewport::Inline. See ai/design/tui-v2-architecture.md. Phases: (1) Research rendering, (2) Basic bottom area, (3) Port input, (4) Port selectors, (5) Add autocomplete."
    },
    {
      "ts": "2026-01-27T06:51:26.956Z",
      "msg": "Research complete (tk-xp90). Key findings: (1) Keep ratatui with scrolling-regions feature, (2) Use synchronized output unconditionally, (3) Trust ratatui cell diffing, (4) Don't abandon Viewport - use it with insert_before for history. See ai/research/tui-rendering-research.md"
    },
    {
      "ts": "2026-01-27T21:50:11.550Z",
      "msg": "Design complete: ai/design/tui-v2.md. Decision: drop ratatui, use crossterm directly. 6 open questions documented for research."
    },
    {
      "ts": "2026-01-27T22:36:04.568Z",
      "msg": "Research complete for Q1-Q6. Created terminal.rs with StyledSpan/StyledLine types and ratatui conversion functions. Next: Create v2 render path in main.rs with ION_TUI_V2 toggle."
    },
    {
      "ts": "2026-01-28T00:08:04.170Z",
      "msg": "TUI v2 migration in progress. Removed ratatui Terminal/Viewport from main.rs. Added draw_direct() in render.rs. Compiles but untested. Next: test basic rendering, fix cursor positioning, port selectors. See STATUS.md for full details."
    }
  ],
  "created_at": "2026-01-27T06:40:15.218Z",
  "updated_at": "2026-01-28T02:02:41.266Z",
  "completed_at": "2026-01-28T02:02:41.266Z",
  "external": {}
}