{
  "project": "tk",
  "ref": "dxo5",
  "title": "[REFACTOR] Viewport/layout audit - fix gaps on startup and after completion",
  "description": null,
  "status": "open",
  "priority": 2,
  "labels": [],
  "assignees": [],
  "parent": null,
  "blocked_by": [],
  "estimate": null,
  "due_date": null,
  "logs": [
    {
      "ts": "2026-01-27T04:46:20.614Z",
      "msg": "Issue: after sending message, 2 empty lines appear. Cause: (1) chat entry trailing blank + (2) viewport top gap from UI positioned at bottom of 15-line viewport. Fix options: dynamic viewport sizing, or reduce UI_VIEWPORT_HEIGHT."
    },
    {
      "ts": "2026-01-27T05:29:51.006Z",
      "msg": "Research complete: Codex uses custom terminal (not Viewport::Inline) with scroll regions. Recommended: enable scrolling-regions feature, implement custom terminal wrapper with dynamic viewport area. See ai/research/codex-tui-analysis.md"
    },
    {
      "ts": "2026-01-27T05:50:13.840Z",
      "msg": "Recommendation updated: use rustyline-async crate. Its SharedWriter provides production-ready concurrent output while editing. reedline's external_printer is experimental. Next: spike to evaluate integration with ratatui widgets."
    },
    {
      "ts": "2026-01-27T06:43:34.155Z",
      "msg": "Superseded by tk-i5s8 (TUI v2). Will be resolved by new architecture."
    }
  ],
  "created_at": "2026-01-27T04:43:04.035Z",
  "updated_at": "2026-01-27T06:43:34.155Z",
  "completed_at": null,
  "external": {}
}