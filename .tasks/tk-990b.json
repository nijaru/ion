{
  "project": "tk",
  "ref": "990b",
  "title": "[BUG] Input box top border pushed to scrollback on first message",
  "description": "When sending the first message in a fresh session, the input box's top border (─────) appears in scrollback above the chat. Attempted fixes haven't resolved it. Need to trace exactly where the border is being rendered and ensure it's cleared before scrolling.",
  "status": "open",
  "priority": 2,
  "labels": [],
  "assignees": [],
  "parent": null,
  "blocked_by": [],
  "estimate": null,
  "due_date": null,
  "logs": [
    {
      "ts": "2026-01-30T00:03:46.808Z",
      "msg": "Attempted fixes (2026-01-29):\n1. Clear from ui_start to term_height before scrolling - didn't work\n2. Clear from startup_ui_anchor to term_height - didn't work\n\nThe border appears at row 3-4 (right after ION/version header) but the input box is drawn at ui_start (near bottom, e.g., row 47). Somehow the top border ends up near the header position after scrolling.\n\nNeed to investigate:\n- Order of operations in main.rs render loop\n- When exactly draw_direct runs vs when chat lines are inserted\n- Whether the scroll operation is pushing unexpected content"
    }
  ],
  "created_at": "2026-01-30T00:03:33.118Z",
  "updated_at": "2026-01-30T00:03:46.808Z",
  "completed_at": null,
  "external": {}
}